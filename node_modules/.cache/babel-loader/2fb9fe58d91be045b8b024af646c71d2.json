{"ast":null,"code":"import _slicedToArray from\"/Users/summer2020/simplefolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from\"react\";import axios from\"axios\";var ProjectCard=function ProjectCard(_ref){var value=_ref.value;var _useState=useState(\"0 mints\"),_useState2=_slicedToArray(_useState,2),updated_at=_useState2[0],setUpdatedAt=_useState2[1];var handleUpdatetime=useCallback(function(e){var date=new Date(value.pushed_at);var nowdate=new Date();var diff=nowdate.getTime()-date.getTime();var hours=Math.trunc(diff/1000/60/60);if(hours<24){return setUpdatedAt(\"\".concat(hours.toString(),\" hours ago\"));}else{var monthNames=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];var day=date.getDate();var monthIndex=date.getMonth();var year=date.getFullYear();return setUpdatedAt(\"on \".concat(day,\" \").concat(monthNames[monthIndex],\" \").concat(year));}},[value.pushed_at]);useEffect(function(){handleUpdatetime();},[handleUpdatetime]);var name=value.name,description=value.description,svn_url=value.svn_url,stargazers_count=value.stargazers_count,languages_url=value.languages_url;return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card shadow-lg p-3 mb-5 bg-white rounded\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title\"},name,\" \"),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},description,\" \"),/*#__PURE__*/React.createElement(\"a\",{href:\"\".concat(svn_url,\"/archive/master.zip\"),className:\"btn btn-outline-secondary mr-3\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fab fa-github\"}),\" Clone Project\"),/*#__PURE__*/React.createElement(\"a\",{href:svn_url,target:\" _blank\",className:\"btn btn-outline-secondary\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fab fa-github\"}),\" Repo\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Language,{value:languages_url}),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-dark card-link mr-4\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fab fa-github\"}),\" Stars\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"badge badge-dark\"},stargazers_count)),/*#__PURE__*/React.createElement(\"small\",{className:\"text-muted\"},\"Updated \",updated_at)))));};var Language=function Language(_ref2){var value=_ref2.value;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var handleRequest=useCallback(function(e){axios.get(value).then(function(response){// handle success\n// console.log(response.data);\nreturn setData(response.data);}).catch(function(error){// handle error\nreturn console.error(error.message);}).finally(function(){// always executed\n});},[value]);useEffect(function(){handleRequest();},[handleRequest]);var array=[];var total_count=0;for(var index in data){array.push(index);total_count+=data[index];// console.log(index, this.state.data[index]);\n}// console.log(\"array contains \", array, this.state.data[array[0]]);\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"pb-3\"},\"Languages:\",\" \",array.map(function(language){return/*#__PURE__*/React.createElement(\"p\",{key:language,className:\"badge badge-light card-link\"},language,\": \",Math.trunc(data[language]/total_count*1000)/10,\" %\");}));};export default ProjectCard;","map":{"version":3,"sources":["/Users/summer2020/simplefolio/src/components/home/ProjectCard.jsx"],"names":["React","useState","useEffect","useCallback","axios","ProjectCard","value","updated_at","setUpdatedAt","handleUpdatetime","e","date","Date","pushed_at","nowdate","diff","getTime","hours","Math","trunc","toString","monthNames","day","getDate","monthIndex","getMonth","year","getFullYear","name","description","svn_url","stargazers_count","languages_url","Language","data","setData","handleRequest","get","then","response","catch","error","console","message","finally","array","total_count","index","push","map","language"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst ProjectCard = ({ value }) => {\r\n  const [updated_at, setUpdatedAt] = useState(\"0 mints\");\r\n\r\n  const handleUpdatetime = useCallback(\r\n    (e) => {\r\n      const date = new Date(value.pushed_at);\r\n      const nowdate = new Date();\r\n      const diff = nowdate.getTime() - date.getTime();\r\n      const hours = Math.trunc(diff / 1000 / 60 / 60);\r\n\r\n      if (hours < 24) {\r\n        return setUpdatedAt(`${hours.toString()} hours ago`);\r\n      } else {\r\n        const monthNames = [\r\n          \"January\",\r\n          \"February\",\r\n          \"March\",\r\n          \"April\",\r\n          \"May\",\r\n          \"June\",\r\n          \"July\",\r\n          \"August\",\r\n          \"September\",\r\n          \"October\",\r\n          \"November\",\r\n          \"December\",\r\n        ];\r\n        const day = date.getDate();\r\n        const monthIndex = date.getMonth();\r\n        const year = date.getFullYear();\r\n\r\n        return setUpdatedAt(`on ${day} ${monthNames[monthIndex]} ${year}`);\r\n      }\r\n    },\r\n    [value.pushed_at]\r\n  );\r\n\r\n  useEffect(() => {\r\n    handleUpdatetime();\r\n  }, [handleUpdatetime]);\r\n\r\n  const { name, description, svn_url, stargazers_count, languages_url } = value;\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <div className=\"card shadow-lg p-3 mb-5 bg-white rounded\">\r\n        {/* <img src=\"\" className=\"card-img-top\" alt=\"...\" /> */}\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title\">{name} </h5>\r\n          <p className=\"card-text\">{description} </p>\r\n          <a\r\n            href={`${svn_url}/archive/master.zip`}\r\n            className=\"btn btn-outline-secondary mr-3\"\r\n          >\r\n            <i className=\"fab fa-github\" /> Clone Project\r\n          </a>\r\n          <a\r\n            href={svn_url}\r\n            target=\" _blank\"\r\n            className=\"btn btn-outline-secondary\"\r\n          >\r\n            <i className=\"fab fa-github\" /> Repo\r\n          </a>\r\n          <hr />\r\n          <Language value={languages_url}></Language>\r\n          <p className=\"card-text\">\r\n            <span className=\"text-dark card-link mr-4\">\r\n              <i className=\"fab fa-github\" /> Stars{\" \"}\r\n              <span className=\"badge badge-dark\">{stargazers_count}</span>\r\n            </span>\r\n            <small className=\"text-muted\">Updated {updated_at}</small>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Language = ({ value }) => {\r\n  const [data, setData] = useState([]);\r\n\r\n  const handleRequest = useCallback(\r\n    (e) => {\r\n      axios\r\n        .get(value)\r\n        .then((response) => {\r\n          // handle success\r\n          // console.log(response.data);\r\n          return setData(response.data);\r\n        })\r\n        .catch((error) => {\r\n          // handle error\r\n          return console.error(error.message);\r\n        })\r\n        .finally(() => {\r\n          // always executed\r\n        });\r\n    },\r\n    [value]\r\n  );\r\n\r\n  useEffect(() => {\r\n    handleRequest();\r\n  }, [handleRequest]);\r\n\r\n  const array = [];\r\n  let total_count = 0;\r\n  for (let index in data) {\r\n    array.push(index);\r\n    total_count += data[index];\r\n    // console.log(index, this.state.data[index]);\r\n  }\r\n  // console.log(\"array contains \", array, this.state.data[array[0]]);\r\n\r\n  return (\r\n    <div className=\"pb-3\">\r\n      Languages:{\" \"}\r\n      {array.map((language) => (\r\n        <p key={language} className=\"badge badge-light card-link\">\r\n          {language}: {Math.trunc((data[language] / total_count) * 1000) / 10} %\r\n        </p>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectCard;\r\n"]},"metadata":{},"sourceType":"module"}